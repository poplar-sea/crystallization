# 1. 简介
* 连表查询即两张表或多张表联合查询，联合查询得到的结果称为笛卡尔积；
* 假设A表中有n条记录，B表表中有m条记录，则它们联合查询得到的笛卡尔积为：```n*m```

# 2. 查询方式
## 2.1 内连接
* 关键字：```INNER JOIN``` ```CROSS JOIN``` ```JOIN```
* 语法：
```sql
-- 无约束条件
SELECT * FROM table_a JOIN table_b;
-- 有约束条件
SELECT * FROM table_a a INNER JOIN table_b b ON a.a_name=b.b_name;
SELECT * FROM table_a a INNER JOIN table_b b WHERE a.a_name=b.b_name;
```
* 原理：
  * 内连接的原理是从每次A表取一条记录去B表中匹配，匹配成功则保留，匹配失败则放弃，直到A表的记录遍历完
## 2.2 自然连接
* 关键字：```NATURAL JOIN```
* 语法：
```sql
SELECT * FROM table_a NATURAL JOIN table_b;
```
* 却别与内连接：
  * 自然连接是一种自动寻找连接条件的连接查询，即MySQL会自动寻找```相同的字段名```作为连接条件;
  * 当没有找到连接条件，就变成内连接（没有筛选条件的情况）

## 2.3 外连接

### 2.3.1 左连接
* 关键字：```LEFT JOIN```
* 语法：
```sql
SELECT * FROM `table_a` a LEFT JOIN `table_b` b ON a.a_name=b.b_name;
```
* 原理：
  * 左连接其实就是两个表的交集+左表剩下的数据
### 2.3.2 右连接
* 关键字：```RIGHT JOIN```
* 语法：
```sql
SELECT * FROM `table_a` a RIGHT JOIN `table_b` b ON a.a_name=b.b_name;
```
* 原理：
  * 右连接其实就是两个表的交集+右表剩下的数据
### 2.3.3 全连接
* mysql不支持
* 取巧实现方法
```mysql
SELECT e.employee_id, e.employee_name, d.dept_name FROM EmployeeTB AS e LEFT OUTER JOIN DeptTB AS d ON d.dept_id=e.dept_id UNION SELECT e.employee_id, e.employee_name, d.dept_name FROM EmployeeTB AS e RIGHT OUTER JOIN DeptTB AS d ON d.dept_id=e.dept_id;
```
# 3.关系图
![关系图](../../images/%E8%A1%A8%E5%85%B3%E7%B3%BB.jpg)