# 1. 什么是Monorepo
* Monorepo 是一种项目代码管理方式，指单个仓库中管理多个项目，有助于简化代码共享、版本控制、构建和部署等方面的复杂性，并提供更好的可重用性和协作性。
* Monorepo 提倡了开放、透明、共享的组织文化，这种方法已经被很多大型公司广泛使用，如 Google、Facebook 和 Microsoft 等。

# 2. Monorepo 的优势
* 代码重用将变得非常容易：
  * 由于所有的项目代码都集中于一个代码仓库，我们将很容易抽离出各个项目共用的业务组件或工具，并通过 TypeScript，Lerna 或其他工具进行代码内引用；
* 依赖管理将变得非常简单：
  * 同理，由于项目之间的引用路径内化在同一个仓库之中，我们很容易追踪当某个项目的代码修改后，会影响到其他哪些项目。通过使用一些工具，我们将很容易地做到版本依赖管理和版本号自动升级；
* 代码重构将变得非常便捷：
  * 想想究竟是什么在阻止您进行代码重构，很多时候，原因来自于「不确定性」，您不确定对某个项目的修改是否对于其他项目而言是「致命的」，出于对未知的恐惧，您会倾向于不重构代码，这将导致整个项目代码的腐烂度会以惊人的速度增长
  * 而在 monorepo 策略的指导下，您能够明确知道您的代码的影响范围，并且能够对被影响的项目可以进行统一的测试，这会鼓励您不断优化代码；
  * 它倡导了一种开放，透明，共享的组织文化，这有利于开发者成长，代码质量的提升：在 monorepo 策略下，每个开发者都被鼓励去查看，修改他人的代码（只要有必要），
  * 同时，也会激起开发者维护代码，和编写单元测试的责任心，这将会形成一种良性的技术氛围，从而保障整个组织的代码质量。
# 3. Monorepo 的劣势
* 项目粒度的权限管理变得非常复杂：
  * 无论是 Git 还是其他 VCS 系统，在支持 monorepo 策略中项目粒度的权限管理上都没有令人满意的方案，这意味着 A 部门的 a 项目若是不想被 B 部门的开发者看到就很难了。（好在我们可以将 monorepo 策略实践在「项目级」这个层次上，这才是我们这篇文章的主题，我们后面会再次明确它）；
* 新员工的学习成本变高：
  * 不同于一个项目一个代码仓库这种模式下，组织新人只要熟悉特定代码仓库下的代码逻辑，在 monorepo 策略下，新人可能不得不花更多精力来理清各个代码仓库之间的相互逻辑，当然这个成本可以通过新人文档的方式来解决，但维护文档的新鲜又需要消耗额外的人力；
* 对于公司级别的 monorepo 策略而言，需要专门的 VFS 系统，自动重构工具的支持：
  * 设想一下 Google 这样的企业是如何将十亿行的代码存储在一个仓库之中的？
  * 开发人员每次拉取代码需要等待多久？
  * 各个项目代码之间又如何实现权限管理，敏捷发布？
  * 任何简单的策略乘以足够的规模量级都会产生一个奇迹（不管是好是坏），对于中小企业而言，如果没有像 Google，Facebook 这样雄厚的人力资源，把所有项目代码放在同一个仓库里这个美好的愿望就只能是个空中楼阁。


# 参考文档
[Monorepo 的前世今生](https://juejin.cn/post/7326268989011673097?utm_source=gold_browser_extension)
[All in one：项目级 monorepo 策略最佳实践](https://segmentfault.com/a/1190000039157365)